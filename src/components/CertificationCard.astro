---
import { cn } from '@/utils';

const {
	as: Tag = 'div',
	class: className = 'border border-border px-5 py-3',
	href,
	issuer,
	name,
	lastTaken
} = Astro.props;

const hasMeta = name || issuer || lastTaken;
---

<Tag class={cn(className, 'relative rounded-2xl')}>
	<div class="flex flex-col gap-y-1.5">
		{
			hasMeta && (
				<div class="flex flex-col gap-y-0.5">
					{name && href ? (
						<a
							href={href}
							target="_blank"
							rel="noopener noreferrer"
							class="text-lg font-medium text-blue-500 underline transition-colors hover:text-blue-600"
						>
							{name}
						</a>
					) : (
						name && <h1 class="text-lg font-medium text-secondary-foreground">{name}</h1>
					)}

					{issuer && <h2 class="text-muted-foreground">{issuer}</h2>}
					{lastTaken && <h2 class="text-sm text-accent-300">Last Taken: {lastTaken}</h2>}
				</div>
			)
		}

		<slot />
	</div>
</Tag>
